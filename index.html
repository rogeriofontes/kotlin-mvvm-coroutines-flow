<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Kotlin Coroutines e Flow com Arquitetura MVVM</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
				<h3>Workshop - Kotlin</h3>
					<h6>Kotlin Coroutines e Flow com Arquitetura MVVM</h6>
					<img data-src="img/kotlin-flow-banner-image.png">
					<p>
						<small>Palestrante: <a href="http://rogeriofontes.inf.br" target="_blank">Rogério Fontes</a> / <a href="http://twitter.com/rogeriofontes" target="_blank">@rogeriofontes</a></small>
					</p>
				</section>

				<section>
					<h5>Sobre o palestrante:</h5>
					<p><span style="font-size:22px">APAIXONADO EM MANEIRAS E FORMAS ÁGEIS DE CRIAR CÓDIGO FONTE. PROGRAMANDO SEMPRE TOMANDO UM BOM CAFÉ E ESCUTANDO UM BELO E PESADO ROCK`N ROLL. TRABALHA A MAIS DE 10 ANOS COM JAVA E LINUX, PASSANDO POR ANDROID, PYTHON, PHP E AGORA COM O CORAÇÃO NO ANGULAR.JS E NODE.JS. PROFESSOR UNIVERSITÁRIO DE REDES DE COMPUTADORES, JAVA E DISPOSITIVOS MÓVEIS. JUGLEADER E CO-FUNDADOR DO UAIJUG (GRUPO DE USUÁRIOS DO TRIÂNGULO MINEIRO) E DO TRIÂNGULO HACKERSPACE. ALÉM DISSO ESPECIALISTA DE SISTEMAS NO SOCIAL BANK E APAIXONADO POR ESTUDOS MÚSICAIS. </p>
				</section>

				<section>
					<a href="http://www.uaijug.com.br/" target="_blank"><img data-src="img/uaijug-300.png" width="350" height="250"></a>
					<a href="http://www.triangulohackerspace.net.br/" target="_blank"><img data-src="img/150px-Logo_triangulohs.png" width="350" height="250"></a>
				</section>

				<section>
					<h5>Android Jetpack</h5>
					<p><span style="font-size:22px">
						Android Jetpack é um conjunto de bibliotecas, ferramentas e orientações para ajudar os desenvolvedores a criar apps de alta qualidade com mais facilidade.
					</span></p>
					<img data-src="img/jetpack.png" width="300" height="300">
				</section>

				<section>
					<h5>Android Jetpack</h5>
					<img data-src="img/jetpackhome.png" width="800" height="400">
					<a href="https://developer.android.com/jetpack?hl=pt-br" target="_blank">https://developer.android.com/jetpack?hl=pt-br</a>
				</section>

				<section>
					<h5>Arquitetura de Referência Android Jetpack</h5>
					<img data-src="img/arch.png" width="800" height="400">
					<a href="https://developer.android.com/jetpack/docs/guide?hl=pt-br" target="_blank">https://developer.android.com/jetpack/docs/guide?hl=pt-br</a>
				</section>
				
				<section>
					<h5>Lifecycle aware?</h5>
					<img data-src="img/final-architecture.png" width="800" height="600">
				</section>

				<section>
					<h5>ViewModel</h5>
					<p><span style="font-size:22px">ViewModel é um componente que sobrevive ao processo de recriação das Activities. Toda Activity é reciada baseada nas novas configurações do sistema, recriando layout, estilos, etc. O ViewModel é usado em conjunto com outra bilioteca que também é Life-cycle-aware chamada LiveData. </p>
					<img data-src="img/viewmodel.png">
				</section>

				<section>
					<h5>ViewModel</h5>
					<p><span style="font-size:22px">O ViewModel faz nossa UI tenha apenas como objetivo renderizar e apresentar informações ao usuário. Os dados ficam armazenados na ViewModel que os expõem de maneira cautelosa (Lifecycle aware/consiente) e sempre de acordo com o ciclo de vida correto da aplicação.
					</p>
					<img data-src="img/viewmodel.png">
					<p><span style="font-size:22px"><I>Isso nos ajuda a garatir performasse e não temos vazamento de memoria.</I></span></p>
				</section>


				<section>
					<h5>ViewModel</h5>
					<p><span style="font-size:22px">
						As vantagens de utilizar o ViewModel são:
						<ul>
							<li style="font-size:22px">Simplificação e redução de boiler-plate code dentro de Activities e Fragments.</li>
							<li style="font-size:22px">Capacidade de isolar os dados utilizados pela UI (Activity, Fragments) e fazê-los sobreviver ao ciclo de vida da aplicação.</il>
							<li style="font-size:22px">Aplicação de padrões de arquitetura e design patterns como o SOLID. (i.e Single Responsability Principle)</li>
							<li style="font-size:22px">Integração com demais componentes de arquitetura como LiveData, Room e afins.</li>
						</ul>
					</span></p>
				</section>

				<section>
					<h5>LiveData</h5>
					<p><span style="font-size:22px">
						LiveData é uma classe capaz de conter dados, para serem observados. A sua função é notificar o LifecycleOwner sobre alterações que ocorrem nos dados.
					</span></p>
				</section>

				<section>
					<h5>LiveData</h5>
					<p><span style="font-size:22px">
						A principal vantagem de se utilizar o LiveData junto com o ViewModel é que não haverá “vazamento de memória” (Memory leaks) quando houver alguma alteração no ciclo de vida do LifecycleOwner.
					</span></p>
				</section>

				<section>
					<h5>Android Room</h5>
					<p><span style="font-size:22px">
						Room é uma camada de abstração do SQLite e um dos componentes do jetpack do Android. Uma dos usos mais comuns de utilizar o room é armazenar dados relevantes em cache.
					</span></p>
					<img data-src="img/datadroid_512.png" width="350" header="200">
				</section>

				<section>
					<h5>Android Room</h5>
					<p><span style="font-size:22px">
						É altamente recomendável usar o Room em vez do SQLite, porque o Room cuida de varios problemas comuns que temos no SQLite. 
					</span></p>
					<img data-src="img/datadroid_512.png" width="350" header="200">
				</section>

				<section>
					<h5>Retrofit</h5>
					<p><span style="font-size:22px">
						Retrofit é uma biblioteca open-source para consumo de APIs e para Networking de forma geral, com ela podemos criar requisições e utilizar nossa aplicação como um Client HTTP de forma rápida e simplificada.
					</span></p>
				</section>

				<section>
					<h5>Retrofit</h5>
					<p><span style="font-size:22px">
						Retrofit Configurado com conversores facilita a serialização de conjuntos de dados estruturados. Normalmente, para JSON, usamos conversores Gson para processos de serialização e desserialização.
						<br />
						O retrofit usa a biblioteca Okhttp para solicitações HTTP.
					</span></p>
				</section>

				<section>
					<h5>Koin</h5>
					<p><span style="font-size:22px">
						Uma estrutura de injeção de dependência leve e pragmática para desenvolvedores que usam Kotlin. Koin é uma alternativa bastante leve que outras estruturas mais robustas como Dagger(2), Guice e Spring
					</span></p>
				</section>

				<section>
					<h5>RxJava</h5>
					<p><span style="font-size:22px">
						RxJava é uma biblioteca que permite representar de forma declarativa, qualquer operação como um fluxo assíncrono de dados, que pode ser criado por qualquer thread, e consumido por múltiplos objetos em (opcionalmente) threads diferentes.
					</span></p>
				</section>

				<section>
					<h5>RxJava - onde usar?</h5>
					<p><span style="font-size:22px">
						<ul>
							<li style="font-size:22px">Acesso à rede, tais como chamadas HTTP;</li>
							<li style="font-size:22px">Leitura e escrita no sistema de arquivos e banco de dados;</li>
							<li style="font-size:22px">Controle de eventos de UI que devem disparar ações;</li>
							<li style="font-size:22px">Tratamento de dados dos sensores do aparelho;</li>
							<li style="font-size:22px">Envio de mensagens internas da aplicação;</li>
							</ul>
					</span></p>
				</section>

				<section>
					<h5>RxJava - e no Android?</h5>
					<p><span style="font-size:22px">
						<ul>
							<li style="font-size:22px">AsyncTask (Observable + Observer)</li>
							<li style="font-size:22px">Chaining callbacks (callbacks encadeados)</li>
							<li style="font-size:22px">Handler / TimerTask</li>
							<li style="font-size:22px">Retrofit. Call pattern? (Adapter-RxJava)</li>
							<li style="font-size:22px">EventBus (PublishSubject)</li>
							</ul>
					</span></p>
				</section>

				<section>
					<h5>Flow APIs</h5>
					<p><span style="font-size:22px">
						No Kotlin, Coroutine é apenas a parte do scheduler do RxJava, mas agora as Flow API's, pode ser uma alternativa ao RxJava no Android
					</span></p>
				</section>

				<section>
					<h5>Flow APIs</h5>
					<p><span style="font-size:22px">
						Flow API in Kotlin  é a melhor maneira de manipular Stream de dados de forma assíncrona que é executada sequencialmente.
					</span></p>
				</section>

				<section>
					<h5>Flow APIs</h5>
					<p><span style="font-size:22px">
						Em RxJava, os Observables é estrutura que representa um stream de itens. Seus dados não são executados até que seja assinado por subscriber e uma vez inscrito, o assinante começa a receber os itens de dados emitidos. Da mesma forma, o Flow funciona na condição em que o código dentro de um flow builder não é executado até que o flow seja coletado.
					</span></p>
				</section>
				<section>
					<section>
						<h5>Builders in Flow</h5>
						<p><span style="font-size:22px">
							Flow builders nada mais são do que o caminho para construir Flows. Existe 4 tipos de flow builders
						</span></p>
					</section>

					<section>
						<h5>Flow APIs - flowOf()</h5>
						<p><span style="font-size:22px">
							É usado para criar um flow a partir de um determinado conjunto de valores.
							<br />
<pre>flowOf(4, 2, 5, 1, 7).onEach { delay(400) }.flowOn(Dispatcher.Default)</pre>
						</span></p>
					</section>

					<section>
						<h5>Flow APIs - asFlow()</h5>
						<p><span style="font-size:22px">
							É uma extension function que ajuda a converter o tipo em fluxos.
							<br />
<pre>(1..5).asFlow().onEach{ delay(300)}.flowOn(Dispatchers.Default)</pre>
						</span></p>
					</section>

					<section>
						<h5>Flow APIs - flow{}</h5>
						<p><span style="font-size:22px">
							Esta é uma builder function para construir fluxos arbitrários.
						</span></p>
					</section>

					<section>
						<h5>Flow APIs - channelFlow{}</h5>
						<p><span style="font-size:22px">
							Esse builder cria um cold-flow with com elementos enviando provided pelo próprio builder.
							<br />
<pre>channelFlow {
	(0..10).forEach {
		send(it)
	}
}.flowOn(Dispatchers.Default)</pre>
						</span></p>
					</section>

					<section>
						<h5>Flow APIs - Zip Operator</h5>
						<p><span style="font-size:22px">
							junta cs
							<br />
<pre>CoroutineScope(Dispatchers.Main).launch {
	flowOne.zip(flowTwo)
	{ firstString, secondString ->
		"$firstString $secondString"
	}.collect {
		Log.d(TAG, it)
	}
}</pre>
						</span></p>
					</section>

				</section>
				<section>
					<a href="https://youtu.be/B8ppnjGPAGE" target="_blank">Video</a>
					<iframe data-autoplay width="420" height="345" src="http://www.youtube.com/watch=?B8ppnjGPAGE?autoplay=1;mute=1"></iframe>
					<!--iframe data-autoplay width="420" height="345" src="http://www.youtube.com/embed/B8ppnjGPAGE"></iframe-->
					
				</section>
				<section>
					<img data-src="img/thanks.jpg"  width="250" header="200">
					<br/>
					<img data-src="img/palestra-kotlin.png"  width="250" header="200">
				</section>

				<section>
						<h5>Referências:</h5>
						<p style="font-size:25px;text-align:left;">
								https://medium.com/android-dev-moz/aac5-9c56e6b4cffc<br />
								https://medium.com/@alifyzfpires/android-jetpack-viewmodel-primeiros-passos-fa46d7aae63a<br />
								https://developer.android.com/training/data-storage/room?hl=pt<br />
								http://www.kotlincodes.com/kotlin/retrofit-with-kotlin/<br />
								https://www.inovex.de/blog/five-reasons-why-you-should-use-koin-in-your-next-android-project/<br />
								https://medium.com/@stoltmanjan/what-is-up-with-koin-719d1248562c<br />
								https://medium.com/@nglauber/introdu%C3%A7%C3%A3o-ao-rx-java-com-kotlin-90c58d184c6b<br />
								https://blog.mindorks.com/what-is-flow-in-kotlin-and-how-to-use-it-in-android-project<br />
								https://ahsensaeed.com/introduction-new-kotlin-coroutine-flow-api/<br />
								https://blog.mindorks.com/what-is-flow-in-kotlin-and-how-to-use-it-in-android-project<br />
								https://ahsensaeed.com/introduction-new-kotlin-coroutine-flow-api/<br />
						</p>
					</section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
